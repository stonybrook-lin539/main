<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Combining n-gram grammars (Solutions)</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="/main/style.css" />
  <!-- Include this in HTML headers to configure and activate MathJax. -->
  <script>
  MathJax = {
      loader: {
          load: ['a11y/assistive-mml']
      },
      options: {
          enableMenu: true,          // set to false to disable the menu
          menuOptions: {
              settings: {
                  assistiveMml: true,   // true to enable assitive MathML
              }
          }
      }
  };
  </script>
  <script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>
<body>
<div class="container with-sidebar">
<div class="sidenav">
<nav id="TOC" role="doc-toc">
<p><a id="site-title" href="/main">Mathematical Methods in Linguistics</a></p>
<ul>
<li><a href="#combining-n-gram-grammars-solutions">Combining <span
class="math inline">\(n\)</span>-gram grammars (Solutions)</a></li>
</ul>
</nav>
</div>
<div class="content">
<h1 id="combining-n-gram-grammars-solutions">Combining <span
class="math inline">\(n\)</span>-gram grammars (Solutions)</h1>
<div class="exercise">
<p>Write two negative grammars such that the first only generates
<em>ab</em> and <em>ba</em>, whereas the latter generates all strings of
the form <em>ab</em>, <em>aab</em>, <em>aaab</em>, and so on. Then build
the corresponding combined grammar. What is the language generated by
the combined grammar? Is this the correct result?</p>
<div class="solution">
<ol type="1">
<li><span class="math inline">\(G_1 \mathrel{\mathop:}=\{
{\rtimes}{\rtimes}{\ltimes}, {\rtimes}a{\ltimes}, {\rtimes}b{\ltimes},
{\rtimes}aa, {\rtimes}bb, aa{\ltimes}, bb{\ltimes}, aaa, aab, aba, abb,
baa, bab, bba, bbb\}\)</span></li>
<li><span class="math inline">\(G_2 \mathrel{\mathop:}=\{
{\rtimes}{\ltimes}, {\rtimes}b, ba, bb, a{\ltimes} \}\)</span></li>
<li><span class="math inline">\(G_1 \cup G_2 \mathrel{\mathop:}=\{
{\rtimes}{\rtimes}{\ltimes}, {\rtimes}a{\ltimes}, {\rtimes}b{\ltimes},
{\rtimes}aa, {\rtimes}bb, aa{\ltimes}, bb{\ltimes},\\ aaa, aab, aba,
abb, baa, bab, bba, bbb,\\ {\rtimes}{\ltimes}, {\rtimes}b, ba, bb,
a{\ltimes} \}\)</span></li>
<li><span class="math inline">\(L(G_1 \cup G_2)\)</span> contains only
the string <em>ab</em>, which is the correct result as <span
class="math inline">\(L(G_1) \cap L(G_2) = \left \{ \mathit{ab} \right
\}\)</span>.</li>
</ol>
</div>
<div class="solution_explained">
<p>This exercise is slightly cumbersome because it asks you to provide
negative grammars when positive grammars would be much easier. But we
can start out with positive grammars and then convert them to negative
ones.</p>
<p>The first language contains both <em>ab</em> and <em>ba</em>, but not
<em>aba</em>. This means that our grammar cannot be a bigram grammar:
all bigrams of the illicit string <em>aba</em> are bigrams of the licit
strings <em>ab</em> and <em>ba</em>, so it’s impossible for a bigram
grammar to generate both <em>ab</em> and <em>ba</em> but not
<em>aba</em>. So let us take the step up to trigrams. Now it is very
easy to write a positive grammar that generates only those two strings.
The grammar must allow all of the following trigrams: <span
class="math inline">\({\rtimes}{\rtimes}a\)</span>, <span
class="math inline">\({\rtimes}{\rtimes}b\)</span>, <span
class="math inline">\({\rtimes}ab\)</span>, <span
class="math inline">\({\rtimes}ba\)</span>, <span
class="math inline">\(ab{\ltimes}\)</span>, <span
class="math inline">\(ba{\ltimes}\)</span>, <span
class="math inline">\(a{\ltimes}{\ltimes}\)</span>, <span
class="math inline">\(b{\ltimes}{\ltimes}\)</span>. We can then convert
that into a negative grammar by constructing <span
class="math inline">\(\left \{ a,b \right \}_E^3\)</span> and keeping
only those trigrams that are not already in our positive grammar. And
that gives us the grammar in the solution above (except that we do not
list <span class="math inline">\({\rtimes}{\ltimes}{\ltimes}\)</span>
because that is redundant if the grammar already contains <span
class="math inline">\({\rtimes}{\rtimes}{\ltimes}\)</span>).</p>
<p>Now we do the same for the second language. Here things are easier as
we can actually make do with a bigram grammar: all strings must start
with <em>a</em>, <em>b</em> cannot occur anywhere except at the end of
the string, and <em>a</em> may not occur at the end of the string. This
is fairly easy to express directly as aa negative bigram grammar: <span
class="math inline">\({\rtimes}{\ltimes}\)</span> and <span
class="math inline">\({\rtimes}b\)</span> (“only start with
<em>a</em>”), <span class="math inline">\(ba\)</span> and <span
class="math inline">\(bb\)</span> (“<em>b</em> can only occur at the end
of the string”), and <span class="math inline">\(a{\ltimes}\)</span>
(“no <em>a</em> at the end of the string”).</p>
<p>When we combine the two grammars, we take their union. Since one of
them is a trigram grammar and the other is a bigram grammar, the result
will be a mixed grammar where not all <span
class="math inline">\(n\)</span>-grams have the same length. We could
convert our bigram grammar to a trigram grammar first, but that’s just
extra work with no gain and does not affect anything here. Hence the
combination of the two grammars is a mixed negative grammar. Due to the
bigrams it contains, it cannot generate any strings that do not start
with <em>a</em> or do not end in <em>b</em>. Due to the trigrams it
contains, it cannot generate any strings of length 3 or more. But the
only string of length 2 or less that starts with <em>a</em> and ends in
<em>b</em> is <em>ab</em>. This is exactly the intersection of <span
class="math inline">\(L(G_1) \mathrel{\mathop:}=\left \{ \mathit{ab},
\mathit{ba} \right \}\)</span> with <span
class="math inline">\(L(G_2)\)</span>, which contains the strings
<em>ab</em>, <em>aab</em>, <em>aaab</em>, and so on.</p>
<p>(A brief aside: based on the discussion above, we can infer that
<span class="math inline">\(G_1 \cup G_2\)</span> isn’t the smallest
negative grammar that generates <span class="math inline">\(L(G_1 \cup
G_2)\)</span>, a smaller option would be the bigram grammar that
contains all of the following forbidden bigrams: <span
class="math inline">\({\rtimes}{\ltimes}\)</span>, <span
class="math inline">\({\rtimes}b\)</span>, <span
class="math inline">\(aa\)</span>, <span
class="math inline">\(ba\)</span>, <span
class="math inline">\(bb\)</span>, <span
class="math inline">\(a{\ltimes}\)</span>. )</p>
</div>
</div>
<div class="exercise">
<p>Compute <span class="math inline">\(A \cap B\)</span> in the same
fashion.</p>
<div class="solution">
<p>According to De Morgan’s Law, <span class="math inline">\(A \cap B =
\overline{\overline{A} \cup \overline{B}}\)</span></p>
<ul>
<li><span class="math inline">\(\overline{A} = U - A = \left \{
a,b,c,d,e \right \} - \left \{ a,b,c \right \} = \left \{ d,e \right
\}\)</span></li>
<li><span class="math inline">\(\overline{B} = U - B = \left \{
a,b,c,d,e \right \} - \left \{ b,c,d \right \} = \left \{ a,e \right
\}\)</span></li>
<li><span class="math inline">\(\overline{A} \cup \overline{B} = \left
\{ a,d,e \right \}\)</span></li>
<li><span class="math inline">\(\overline{\overline{A} \cup
\overline{B}} = U - (\overline{A} \cup \overline{B}) = \left \{
a,b,c,d,e \right \} - \left \{ a,d,e \right \} = \left \{ b,c \right
\}\)</span></li>
</ul>
</div>
</div>
<div class="exercise">
<p>De Morgan’s law also implies that <span
class="math inline">\(\overline{A} \cap \overline{B} = \overline{A \cup
B}\)</span>. Explain why!</p>
<p><em>Hint</em>: What is the complement of <span
class="math inline">\(\overline{A}\)</span> relative to <span
class="math inline">\(U\)</span>?</p>
<div class="solution">
<p>For the sake of clarity, let us rewrite De Morgan’s law using <span
class="math inline">\(X\)</span> and <span
class="math inline">\(Y\)</span> instead of <span
class="math inline">\(A\)</span> and <span
class="math inline">\(B\)</span>, respectively: <span
class="math inline">\(X \cap Y = \overline{\overline{X} \cup
\overline{Y}}\)</span>. Hence we can calculate <span
class="math inline">\(\overline{A} \cap \overline{B}\)</span> by taking
<span class="math inline">\(\overline{\overline{X} \cup
\overline{Y}}\)</span> and replacing <span
class="math inline">\(X\)</span> with <span
class="math inline">\(\overline{A}\)</span> and <span
class="math inline">\(Y\)</span> with <span
class="math inline">\(\overline{B}\)</span>. This yields <span
class="math inline">\(\overline{\overline{\overline{A}} \cup
\overline{\overline{B}}}\)</span>. But since the complement of the
complement of a set is just the set itself, this reduces to <span
class="math inline">\(\overline{A \cup B}\)</span>, and hence we have
<span class="math inline">\(\overline{A} \cap \overline{B} = \overline{A
\cup B}\)</span>.</p>
</div>
</div>
<div class="exercise">
<p>Suppose our alphabet contains only <span
class="math inline">\(a\)</span> and that <span
class="math inline">\(G\)</span> is a positive grammar containing the
bigrams <em>⋊a</em>, <em>aa</em>, and <em>a⋉</em> (and nothing else).
Compute <span class="math inline">\(\overline{G}\)</span>, then verify
for yourself that <span class="math inline">\(\overline{G}\)</span>,
when interpreted as a negative grammar, accepts the same strings as
<span class="math inline">\(G\)</span>.</p>
<div class="solution">
<p>Since all symbols must be <em>a</em>, <span
class="math inline">\(\Sigma_E^2\)</span> contains all of the
following:</p>
<ol type="1">
<li><span class="math inline">\({\rtimes}{\ltimes}\)</span></li>
<li><span class="math inline">\({\rtimes}a\)</span></li>
<li><span class="math inline">\(aa\)</span></li>
<li><span class="math inline">\(a{\ltimes}\)</span></li>
</ol>
<p>For simplicity, we omit useless bigrams: <span
class="math inline">\({\ltimes}{\rtimes}\)</span>, <span
class="math inline">\(a{\rtimes}\)</span>, and <span
class="math inline">\({\ltimes}a\)</span>. Hence <span
class="math inline">\(\overline{G} = \Sigma_E^2 - +^G =
{\rtimes}{\ltimes}\)</span>. The negative grammar containing only <span
class="math inline">\({\rtimes}{\ltimes}\)</span> generates all strings
over <em>a</em> except the empty string, i.e. all strings over
<em>a</em> that contain 1 or more instances of <em>a</em>. But this is
exactly the language generated by the positive grammar that contains
<em>⋊a</em>, <em>aa</em>, and <em>a⋉</em>.</p>
</div>
</div>
</div>
</div>
</body>
</html>
